[readme로-돌아가기](https://github.com/fungap/fungap-back)

## Feedback

### CI/CD란 뭔가?

기본개념은 지속적인 통합 지속적인 배포를 말합니다.<br>
저희는 CI/CD툴로 젠킨스를 사용하였으며 git push 가 일어나면 서버에 자동적으로 통합 배포 파이프라인을 구축하였습니다.

### 왜 scale out 을 안하고 scale up을 하였는지
기본적으로 프리티어 aws에서는 jenkins 조차 제대로 돌아가지 않는 현상이 발생
scale out을 한다고 하더라도 결국엔 manager node인 서버에서는 모니터링 컨테이너 등을 운용해야 하는데
프리티어인 서버성능으로는 운용하기 힘들다고 판단하였고 
AWS 프리티어 1코어 1GIB 메모리  말고 무료로 사용할 수 있는 GCP 2코어 4GIB메모리를 사용하지 않을 이유가 없다고 생각했습니다. 

### GCP와 AWS 서비스를 함께 사용한 이유는?

처음에는 AWS ec2 와 RDS를 사용하였으나 성능테스트를 하였을때 ec2서버의 응답시간이 400명일때 30초 가까이 나옴으로 인해서
scale up을 결정하게 되었고 무료로 사용할수 있는 GCP 서비스를 배포서버로 선택하였습니다.

### AWS 서비스를 사용하다가 GCP 서비스를 사용했는데 AWS에서도 충분히 가능한 설정이라고 생각된다. 다른 이유가 있나?

EC2의 성능을 올리기 위해서는 비용이 발생하는데 GCP는 3개월간 무료로 더 좋은 스펙의 서버를 이용할수 있었습니다.

### ELK만 사용해도 모니터링이 충분히 가능하다고 생각된다. 프로메테우스랑 그라파나까지 사용한 이유는?

그라파나는 ELK보다도 매트릭 정보를 다루는데 더 좋다고 판단하여 사용하였습니다.

### 프로메테우스랑 그라파나는 AWS에 구성하기 쉬운 서비스 형태로 있는데 직접 구성한 것처럼 보여진다. 이유는?

도커스웜은 모니터링을 지원하지 않았기 때문에 여러 툴중에서 오픈소스이면서 연동성이 좋은 그라파나와 프로메테우스를 사용하였습니다.<br>
직접 구성한 이유는 서비스 형태로 가져다가 쓰기보다는 직접 세팅하면서 세부적인 설정등을 조금 더 디테일하게 이해하고 스터디 하고 싶었기 때문입니다.

### 오토 스케일링은 무엇인가? 스케일 업과 아웃의 차이는 무엇인가?

자동적으로 스케일을 조정해주는 기능입니다. 예를 들면 쿠버네티스는 CPU사용률 기반으로 디플로이먼트로 실행된 pod의 개수를 늘리거나 줄입니다. <br>
스케일 업은 서버 그 자체를 증강하면서 처리 능력을 향상 시키는 것 프로세서 자체를 고성능 모델로 옮겨놓는것!<br>
예) 1CPU 1GIB 메모리 -> 2CPU 4GIB메모리 <br>
스케일 아웃은 접속된 서버의 대수를 늘려 처리 능력을 향상시키는 것이다.

### 하나의 서버에서 여러개의 도커를 실행시키고 도커 스웜으로 관리하는 것이 가능한데 도커 인 도커를 한 이유는 무엇인가?

현재 저희가 도커 스웜을 구축한 방식을 살펴보면 1개의 GCP 서버가 있고 그 안에서 docker 로 컨테이너 3개가 실행 중입니다. 매니저1 워커1,워커2 이 컨테이너들이 클러스터가 됩니다.<br>
이 컨테이너들 안에서 저희 웹서버가 컨테이너로 실행 되고 있습니다. 제가 도커인 도커 방식을 이해한 개념은 도커 안에서 도커가 실행 한다는 것입니다.
따라서 저는 도커 인 도커방식을 취하고 있다고 이해하고 있었는 데 도커인도커를 잘못 이해 한 내용이 있는 것 같습니다..<br>
그렇기 때문에 docker in docker보다는 저희가 어떻게 1개의 서버에서 도커스웜을 구축했는지에 대한 것을 알아주셨으면 합니다.

### 검색 성능을 위해서 MySQL 대신에 Elastic Search를 사용했는데 얼마나 빨라졌나?

### Elastic Search를 사용해서 사용자의 needs를 맞출 수 있다고 했는데 사용자의 needs는 무엇이고 어떻게 알아낸 것인지?

### 해당 서비스를 사용하는 유저가 많아지면 채팅로그 2만개는 순식간에 쌓일 것 같은데 채팅 기록을 확인해야 하는 상황이 오면 어떻게 할 것인가?

현재 DB에 채팅이 과도하게 쌓이지 않도록 일정 갯수가 넘어가면 일단 chatlogBackup 테이블로 옮기고 chatlog에서 삭제되도록 로직이 구현되어 있습니다. 기록을 확인하려면 백업테이블에서 확인하면 됩니다.

### 채팅 로그를 몇 주 또는 몇개월 전의 로그를 확인해야할 일은 없다고 생각하는 것인지?

이 부분도 제가 너무 데이터에 대해 안일하게 생각했던 것 같습니다. 현재는 백업테이블에 저장해서 필요에 따라 확인할 수 있도록 하였습니다.

### 정확한 로깅을 위해서 욕설이라도 채팅은 전체 데이터를 DB에 저장하는 것이 좋아보인다. 욕설이 필요없는 데이터라고 생각한 이유는 무엇인가?

- 좋은 답변 감사합니다. 욕설 데이터도 나중에 경고메세지 라던지 제재를 가한다던지 하는 데이터로 쓸 수도 있고 어떻게 활용하냐에 따라 좋은 정보가 될 수 있는데 제가 미처 생각을 못했습니다.
  현재는 욕설 필터링에 걸리면 그 부분은 채팅로그(조회가 일어나는)에 저장하는 것이 아니라 백업채팅로그에 저장하도록 하여서 사용자에게 보여주지는 않되 데이터는 보존하는 형태로 구현을 하였습니다.

### Helmet이 어떤 모듈인가
Express.js 사용시 Http 헤더 설정을 자동으로 바꾸어주어 잘 알려진 몇가지 앱의 취약성으로 부터 앱을 보호 할 수 있는 패키지이다.<br>
* Helmet는 다음과 같은 미들웨어로 이루어 져 있다.<br>
csp: Content-Security-Policy 헤더 설정. XSS(Cross-site scripting) 공격 및 기타 교차 사이트 인젝션 예방.<br>
hidePoweredBy: X-Powered-By 헤더 제거.<br>
hpkp: Public Key Pinning 헤더 추가. 위조된 인증서를 이용한 중간자 공격 방지.<br>
hsts: SSL/TLS를 통한 HTTP 연결을 적용하는 Strict-Transport-Security 헤더 설정.<br>
noCache : Cache-Control 및 Pragma 헤더를 설정하여 클라이언트 측에서 캐싱을 사용하지 않도록 함.<br>
frameguard : X-Frame-Options 헤더 설정하여 clickjacking에 대한 보호 제공.<br>
ieNoOpen : (IE8 이상) X-Download-Options 설정.<br>
xssFilter :  X-XSS-Protection 설정. 대부분의 최신 웹 브라우저에서 XSS(Cross-site scripting) 필터를 사용.<br>
noSniff : X-Content-Type-Options 설정하여, 선언된 콘텐츠 유형으로부터 벗어난 응답에 대한 브라우저의 MIME 가로채기를 방지.<br>

### http와 https의 차이점은 무엇인가.

### 단순하게 https를 사용한다고 해서 보안이 더 나아지는가?

### node와 mysql을 조합하여 사용했는데, 이에 대한 단점이 무엇이라고 생각하시나요?1

### node의 특징과 장점
https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=silver889&logNo=220204778189
### node와 MySQL이 어떤 상황에 사용되어야 유리할까요?
